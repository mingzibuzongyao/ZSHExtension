// ==UserScript==
// @name         ZSH Extension
// @namespace    http://tampermonkey.net/
// @version      1.0
// @description  一个简单的Chrome扩展，用于在特定页面插入一行代码。
// @author       Your Name
// @match        https://and-medical.com/shop/order*
// @grant        none
// @grant unsafeWindow
// ==/UserScript==
function a0_0x4726(){const _0xccc9e6=['375VcECcW','log','documentElement','createElement','10FBVQwK','textContent','4155NvbIRS','8532680NbpRdw','12ccdaYt','47649nsHaZD','appendChild','14147YrwALy','5593346FnfFkd','167652BsSVtQ','5592lJUFRU','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22开始插入代码\x22);\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20modifyFunction(func)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20function(b,\x20h)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22插入的新代码\x20-\x20调用前\x22,b);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(typeof\x20b\x20!==\x20\x27undefined\x27\x20&&\x20b\x20!==\x20null)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b.securityCode\x20=\x20\x22\x22;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22插入的新代码\x20-\x20b.securityCode\x20已修改\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22b\x20对象未定义或为空\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20原始函数的逻辑\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20b.securityCode\x20=\x20\x22\x22;\x20//\x20新插入的代码\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22修改参数后\x20-\x20查看\x22,b);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20c\x20=\x20this.local.createUuid();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22UUID\x20创建成功：\x22,\x20c);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20var\x20y\x20=\x20this.local.createUrl(c,\x20b);\x20//\x20在这之前清空\x20b.securityCode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22URL\x20创建成功：\x22,\x20y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20y\x20=\x20this.local.createRequest(y,\x20h);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22Request\x20创建成功：\x22,\x20y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.rm[c]\x20=\x20y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20y.run();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22Request\x20运行成功\x22);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22插入的新代码\x20-\x20调用后\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20waitForComSbpsSystem(retryCount\x20=\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20maxRetries\x20=\x2050;\x20//\x20设置最大重试次数\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20retryInterval\x20=\x20100;\x20//\x20设置重试间隔时间\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(typeof\x20com_sbps_system\x20!==\x20\x27undefined\x27\x20&&\x20typeof\x20com_sbps_system.generateToken\x20===\x20\x27function\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(com_sbps_system.generateToken)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20com_sbps_system.generateToken\x20=\x20modifyFunction(com_sbps_system.generateToken);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22目标函数已修改\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(retryCount\x20<\x20maxRetries)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(`目标函数未找到，重试中...（第\x20${retryCount\x20+\x201}\x20次）`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20waitForComSbpsSystem(retryCount\x20+\x201),\x20retryInterval);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22超过最大重试次数，停止重试\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x22页面已完全加载，开始检查目标函数\x22);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20waitForComSbpsSystem();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20})();\x0a\x20\x20\x20\x20\x20\x20\x20\x20','1260ltxJTH','590NyahIw','7572tkmszH'];a0_0x4726=function(){return _0xccc9e6;};return a0_0x4726();}function a0_0x4e72(_0x4189cd,_0x2c3d90){const _0x472683=a0_0x4726();return a0_0x4e72=function(_0x4e7211,_0x39f9f9){_0x4e7211=_0x4e7211-0x191;let _0x55dd64=_0x472683[_0x4e7211];return _0x55dd64;},a0_0x4e72(_0x4189cd,_0x2c3d90);}(function(_0xc6b677,_0x27770a){const _0x29c67d=a0_0x4e72,_0x5bc348=_0xc6b677();while(!![]){try{const _0x3c0c98=parseInt(_0x29c67d(0x19d))/0x1*(parseInt(_0x29c67d(0x198))/0x2)+parseInt(_0x29c67d(0x194))/0x3*(parseInt(_0x29c67d(0x191))/0x4)+-parseInt(_0x29c67d(0x19a))/0x5*(-parseInt(_0x29c67d(0x193))/0x6)+-parseInt(_0x29c67d(0x19f))/0x7*(parseInt(_0x29c67d(0x1a2))/0x8)+-parseInt(_0x29c67d(0x1a1))/0x9*(-parseInt(_0x29c67d(0x192))/0xa)+parseInt(_0x29c67d(0x1a0))/0xb+-parseInt(_0x29c67d(0x19c))/0xc*(parseInt(_0x29c67d(0x19b))/0xd);if(_0x3c0c98===_0x27770a)break;else _0x5bc348['push'](_0x5bc348['shift']());}catch(_0x47545d){_0x5bc348['push'](_0x5bc348['shift']());}}}(a0_0x4726,0xd3249),(function(){'use strict';const _0x20b8fc=a0_0x4e72;function _0x21b2bd(){const _0x24062e=a0_0x4e72,_0x4203d1=_0x24062e(0x1a3),_0x384521=document[_0x24062e(0x197)]('script');_0x384521[_0x24062e(0x199)]=_0x4203d1,document[_0x24062e(0x196)][_0x24062e(0x19e)](_0x384521),_0x384521['remove']();}console[_0x20b8fc(0x195)]('Content\x20script\x20loaded'),_0x21b2bd();}()));
